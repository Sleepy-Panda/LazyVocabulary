@using LazyVocabulary.WEB.Models;
@model IEnumerable<IndexDictionaryViewModel>

@{
    ViewBag.Title = "Мои словари";
}

@Styles.Render("~/Content/menu.css")

<div class="breadcrump-container">
    <i class="fa fa-home"></i>
    <a href="#">Главная</a>
    <span class="separator"></span>
    Мои словари
</div>

<div class="top-buttons-container">
    <div class="row">
        <a href="/Dictionary/Create" class="btn btn-info pull-right">
            <i class="fa fa-plus"></i> Добавить словарь
        </a>
    </div>
</div>

<div class="container">
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item active">
            <a class="nav-link" href="#my" data-toggle="tab" role="tab">Мои словари</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#available" data-toggle="tab" role="tab">Доступные мне</a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane active" id="my" role="tabpanel">
            @if (Model.Count() > 0)
            {
                <table class="table table-bordered table-hover table-striped">
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    <b>@item.Name</b> <span class="text-muted">@item.PhrasesCount записей</span>
                                    <br />
                                    @item.Description
                                </td>
                                <td>
                                    <img class="image-flag" src="@Url.Content("~/Content/Images/flags/" + item.SourceLanguageImagePath)" />
                                    &rarr;
                                    <img class="image-flag" src="@Url.Content("~/Content/Images/flags/" + item.TargetLanguageImagePath)" />
                                </td>
                                <td>
                                    <span class="text-muted">Создан:</span> @item.CreatedAt.ToString("dd.mm.yyyy HH:mm")
                                </td>
                                <td style="width: 50px; text-align: center;">
                                    <a href='javascript:;' class='toggle'><i class='fa fa-ellipsis-v'></i></a>
                                    <ul class="menu" data-menu data-menu-toggle=".toggle">
                                        <li>
                                            <a href="@item.Id">Список переводов</a>
                                        </li>
                                        <li>
                                            <a href="@item.Id">Подробнее о словаре</a>
                                        </li>
                                        <li class="menu-separator"></li>
                                        <li>
                                            <a href="#">Редактировать словарь</a>
                                        </li>
                                        <li>
                                            <a href="#">Удалить словарь</a>
                                        </li>
                                        <li class="menu-separator"></li>
                                        <li>
                                            <a href="#">Экспортировать словарь в pdf</a>
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p class="text-muted">Вы не создали ни одного словаря.</p>
            }
        </div>
        <div class="tab-pane" id="available" role="tabpanel">

        </div>
    </div>
</div>

@section Scripts {
    @Scripts.Render("~/scripts/menu.min.js")

    <script>
        $('[data-menu]').menu();
    </script>
}